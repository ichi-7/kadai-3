<% if @book.errors.any? %>
  <%= @book.errors.count %>errors prohibited this obj from being saved:
  <ul>
    <% @book.errors.full_messages.each do |message| %>
      <li><%= message %></li>
    <% end %>
  </ul>
<% end %>

<div>
  <% if user_path(current_user) == user_path(@book.user_id) %>
    <h2 class="mt-3">User info</h2>
    <%= image_tag current_user.get_profile_image(100,100) %>
    <table class="table">
      <tr></tr>
      <tr>
        <th>name</th><th><%= current_user.name %></th>
      </tr>
      <tr>
        <th>introduction</th><th><%= current_user.introduction %></th>
      </tr>
    </table>
    
    <div class="row">
      <%= link_to edit_user_path(current_user.id), class: 'btn btn-outline-secondary btn-block' do %>
        <i class="fas fa-user-cog text-gray"></i>
      <% end %>
    </div>
  <% else %>
    <h2 class="mt-3">User info</h2>
    <%= image_tag @book.user.get_profile_image(100,100) %>
    <table class="table">
      <tr></tr>
      <tr>
        <th>name</th><th><%= @book.user.name %></th>
      </tr>
      <tr>
        <th>introduction</th><th><%= @book.user.introduction %></th>
      </tr>
    </table>
    
    <div class="row">
      <%= link_to edit_user_path(@book.user.id), class: 'btn btn-outline-secondary btn-block' do %>
        <i class="fas fa-user-cog text-gray"></i>
      <% end %>
    </div>
  <% end %>
</div>

<h2 class="mt-3">New book</h2>
  <%= form_with model: @book_new do |f| %>
    <div class="form-group">
      <label>Title</label> <br>
        <%= f.text_field :title, class: 'form-control book_title' %>
    </div>
    <div class="form-group">
      <label>Opinion</label> <br>
        <%= f.text_field :body, class: 'form-control book_title' %>
    </div>
    <%= f.submit 'Create Book', class: 'btn btn-success' %>
  <% end %>